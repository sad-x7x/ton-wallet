{"version":3,"file":"771.ae36771e22d590ba4423.js","mappings":"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","sources":["webpack://mytonwallet/./src/lib/quantize.js","webpack://mytonwallet/./node_modules/process/browser.js","webpack://mytonwallet/webpack/bootstrap","webpack://mytonwallet/webpack/runtime/compat get default export","webpack://mytonwallet/webpack/runtime/define property getters","webpack://mytonwallet/webpack/runtime/ensure chunk","webpack://mytonwallet/webpack/runtime/get javascript chunk filename","webpack://mytonwallet/webpack/runtime/get mini-css chunk filename","webpack://mytonwallet/webpack/runtime/global","webpack://mytonwallet/webpack/runtime/hasOwnProperty shorthand","webpack://mytonwallet/webpack/runtime/publicPath","webpack://mytonwallet/webpack/runtime/importScripts chunk loading","webpack://mytonwallet/./src/util/compression.ts","webpack://mytonwallet/./src/util/stream.ts","webpack://mytonwallet/./src/config.ts","webpack://mytonwallet/./src/lib/big.js/index.js","webpack://mytonwallet/./src/util/decimals.ts","webpack://mytonwallet/./src/util/assert.ts","webpack://mytonwallet/./src/util/logs.ts","webpack://mytonwallet/./src/util/createPostMessageInterface.ts","webpack://mytonwallet/./src/lib/rlottie/rlottie.worker.ts","webpack://mytonwallet/./src/util/accentColor/constants.ts","webpack://mytonwallet/./src/lib/offscreen-canvas/offscreen-canvas.worker.ts","webpack://mytonwallet/./src/util/getCachedImageUrl.ts","webpack://mytonwallet/./src/util/colors.ts"],"sourcesContent":["/* eslint-disable */\n\n/*\n * quantize.js Copyright 2008 Nick Rabinowitz\n * Ported to node.js by Olivier Lesnicki\n * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php\n */\n\n// fill out a couple protovis dependencies\n/*\n * Block below copied from Protovis: http://mbostock.github.com/protovis/\n * Copyright 2010 Stanford Visualization Group\n * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php\n */\nif (!pv) {\n    var pv = {\n        map: function(array, f) {\n            var o = {};\n            return f ? array.map(function(d, i) {\n                o.index = i;\n                return f.call(o, d);\n            }) : array.slice();\n        },\n        naturalOrder: function(a, b) {\n            return (a < b) ? -1 : ((a > b) ? 1 : 0);\n        },\n        sum: function(array, f) {\n            var o = {};\n            return array.reduce(f ? function(p, d, i) {\n                o.index = i;\n                return p + f.call(o, d);\n            } : function(p, d) {\n                return p + d;\n            }, 0);\n        },\n        max: function(array, f) {\n            return Math.max.apply(null, f ? pv.map(array, f) : array);\n        }\n    }\n}\n\n/**\n * Basic Javascript port of the MMCQ (modified median cut quantization)\n * algorithm from the Leptonica library (http://www.leptonica.com/).\n * Returns a color map you can use to map original pixels to the reduced\n * palette. Still a work in progress.\n *\n * @author Nick Rabinowitz\n * @example\n\n// array of pixels as [R,G,B] arrays\nvar myPixels = [[190,197,190], [202,204,200], [207,214,210], [211,214,211], [205,207,207]\n                // etc\n                ];\nvar maxColors = 4;\n\nvar cmap = MMCQ.quantize(myPixels, maxColors);\nvar newPalette = cmap.palette();\nvar newPixels = myPixels.map(function(p) {\n    return cmap.map(p);\n});\n\n */\nvar MMCQ = (function() {\n    // private constants\n    var sigbits = 5,\n        rshift = 8 - sigbits,\n        maxIterations = 1000,\n        fractByPopulations = 0.75;\n\n    // get reduced-space color index for a pixel\n\n    function getColorIndex(r, g, b) {\n        return (r << (2 * sigbits)) + (g << sigbits) + b;\n    }\n\n    // Simple priority queue\n\n    function PQueue(comparator) {\n        var contents = [],\n            sorted = false;\n\n        function sort() {\n            contents.sort(comparator);\n            sorted = true;\n        }\n\n        return {\n            push: function(o) {\n                contents.push(o);\n                sorted = false;\n            },\n            peek: function(index) {\n                if (!sorted) sort();\n                if (index === undefined) index = contents.length - 1;\n                return contents[index];\n            },\n            pop: function() {\n                if (!sorted) sort();\n                return contents.pop();\n            },\n            size: function() {\n                return contents.length;\n            },\n            map: function(f) {\n                return contents.map(f);\n            },\n            debug: function() {\n                if (!sorted) sort();\n                return contents;\n            }\n        };\n    }\n\n    // 3d color space box\n\n    function VBox(r1, r2, g1, g2, b1, b2, histo) {\n        var vbox = this;\n        vbox.r1 = r1;\n        vbox.r2 = r2;\n        vbox.g1 = g1;\n        vbox.g2 = g2;\n        vbox.b1 = b1;\n        vbox.b2 = b2;\n        vbox.histo = histo;\n    }\n    VBox.prototype = {\n        volume: function(force) {\n            var vbox = this;\n            if (!vbox._volume || force) {\n                vbox._volume = ((vbox.r2 - vbox.r1 + 1) * (vbox.g2 - vbox.g1 + 1) * (vbox.b2 - vbox.b1 + 1));\n            }\n            return vbox._volume;\n        },\n        count: function(force) {\n            var vbox = this,\n                histo = vbox.histo;\n            if (!vbox._count_set || force) {\n                var npix = 0,\n                    i, j, k, index;\n                for (i = vbox.r1; i <= vbox.r2; i++) {\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\n                            index = getColorIndex(i, j, k);\n                            npix += (histo[index] || 0);\n                        }\n                    }\n                }\n                vbox._count = npix;\n                vbox._count_set = true;\n            }\n            return vbox._count;\n        },\n        copy: function() {\n            var vbox = this;\n            return new VBox(vbox.r1, vbox.r2, vbox.g1, vbox.g2, vbox.b1, vbox.b2, vbox.histo);\n        },\n        avg: function(force) {\n            var vbox = this,\n                histo = vbox.histo;\n            if (!vbox._avg || force) {\n                var ntot = 0,\n                    mult = 1 << (8 - sigbits),\n                    rsum = 0,\n                    gsum = 0,\n                    bsum = 0,\n                    hval,\n                    i, j, k, histoindex;\n                for (i = vbox.r1; i <= vbox.r2; i++) {\n                    for (j = vbox.g1; j <= vbox.g2; j++) {\n                        for (k = vbox.b1; k <= vbox.b2; k++) {\n                            histoindex = getColorIndex(i, j, k);\n                            hval = histo[histoindex] || 0;\n                            ntot += hval;\n                            rsum += (hval * (i + 0.5) * mult);\n                            gsum += (hval * (j + 0.5) * mult);\n                            bsum += (hval * (k + 0.5) * mult);\n                        }\n                    }\n                }\n                if (ntot) {\n                    vbox._avg = [~~(rsum / ntot), ~~ (gsum / ntot), ~~ (bsum / ntot)];\n                } else {\n                    //console.log('empty box');\n                    vbox._avg = [~~(mult * (vbox.r1 + vbox.r2 + 1) / 2), ~~ (mult * (vbox.g1 + vbox.g2 + 1) / 2), ~~ (mult * (vbox.b1 + vbox.b2 + 1) / 2)];\n                }\n            }\n            return vbox._avg;\n        },\n        contains: function(pixel) {\n            var vbox = this,\n                rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            return (rval >= vbox.r1 && rval <= vbox.r2 &&\n                gval >= vbox.g1 && gval <= vbox.g2 &&\n                bval >= vbox.b1 && bval <= vbox.b2);\n        }\n    };\n\n    // Color map\n\n    function CMap() {\n        this.vboxes = new PQueue(function(a, b) {\n            return pv.naturalOrder(\n                a.vbox.count() * a.vbox.volume(),\n                b.vbox.count() * b.vbox.volume()\n            )\n        });;\n    }\n    CMap.prototype = {\n        push: function(vbox) {\n            this.vboxes.push({\n                vbox: vbox,\n                color: vbox.avg()\n            });\n        },\n        palette: function() {\n            return this.vboxes.map(function(vb) {\n                return vb.color\n            });\n        },\n        size: function() {\n            return this.vboxes.size();\n        },\n        map: function(color) {\n            var vboxes = this.vboxes;\n            for (var i = 0; i < vboxes.size(); i++) {\n                if (vboxes.peek(i).vbox.contains(color)) {\n                    return vboxes.peek(i).color;\n                }\n            }\n            return this.nearest(color);\n        },\n        nearest: function(color) {\n            var vboxes = this.vboxes,\n                d1, d2, pColor;\n            for (var i = 0; i < vboxes.size(); i++) {\n                d2 = Math.sqrt(\n                    Math.pow(color[0] - vboxes.peek(i).color[0], 2) +\n                    Math.pow(color[1] - vboxes.peek(i).color[1], 2) +\n                    Math.pow(color[2] - vboxes.peek(i).color[2], 2)\n                );\n                if (d2 < d1 || d1 === undefined) {\n                    d1 = d2;\n                    pColor = vboxes.peek(i).color;\n                }\n            }\n            return pColor;\n        },\n        forcebw: function() {\n            // XXX: won't  work yet\n            var vboxes = this.vboxes;\n            vboxes.sort(function(a, b) {\n                return pv.naturalOrder(pv.sum(a.color), pv.sum(b.color))\n            });\n\n            // force darkest color to black if everything < 5\n            var lowest = vboxes[0].color;\n            if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)\n                vboxes[0].color = [0, 0, 0];\n\n            // force lightest color to white if everything > 251\n            var idx = vboxes.length - 1,\n                highest = vboxes[idx].color;\n            if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)\n                vboxes[idx].color = [255, 255, 255];\n        }\n    };\n\n    // histo (1-d array, giving the number of pixels in\n    // each quantized region of color space), or null on error\n\n    function getHisto(pixels) {\n        var histosize = 1 << (3 * sigbits),\n            histo = new Array(histosize),\n            index, rval, gval, bval;\n        pixels.forEach(function(pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            index = getColorIndex(rval, gval, bval);\n            histo[index] = (histo[index] || 0) + 1;\n        });\n        return histo;\n    }\n\n    function vboxFromPixels(pixels, histo) {\n        var rmin = 1000000,\n            rmax = 0,\n            gmin = 1000000,\n            gmax = 0,\n            bmin = 1000000,\n            bmax = 0,\n            rval, gval, bval;\n        // find min/max\n        pixels.forEach(function(pixel) {\n            rval = pixel[0] >> rshift;\n            gval = pixel[1] >> rshift;\n            bval = pixel[2] >> rshift;\n            if (rval < rmin) rmin = rval;\n            else if (rval > rmax) rmax = rval;\n            if (gval < gmin) gmin = gval;\n            else if (gval > gmax) gmax = gval;\n            if (bval < bmin) bmin = bval;\n            else if (bval > bmax) bmax = bval;\n        });\n        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);\n    }\n\n    function medianCutApply(histo, vbox) {\n        if (!vbox.count()) return;\n\n        var rw = vbox.r2 - vbox.r1 + 1,\n            gw = vbox.g2 - vbox.g1 + 1,\n            bw = vbox.b2 - vbox.b1 + 1,\n            maxw = pv.max([rw, gw, bw]);\n        // only one pixel, no split\n        if (vbox.count() == 1) {\n            return [vbox.copy()]\n        }\n        /* Find the partial sum arrays along the selected axis. */\n        var total = 0,\n            partialsum = [],\n            lookaheadsum = [],\n            i, j, k, sum, index;\n        if (maxw == rw) {\n            for (i = vbox.r1; i <= vbox.r2; i++) {\n                sum = 0;\n                for (j = vbox.g1; j <= vbox.g2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(i, j, k);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        } else if (maxw == gw) {\n            for (i = vbox.g1; i <= vbox.g2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.b1; k <= vbox.b2; k++) {\n                        index = getColorIndex(j, i, k);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        } else { /* maxw == bw */\n            for (i = vbox.b1; i <= vbox.b2; i++) {\n                sum = 0;\n                for (j = vbox.r1; j <= vbox.r2; j++) {\n                    for (k = vbox.g1; k <= vbox.g2; k++) {\n                        index = getColorIndex(j, k, i);\n                        sum += (histo[index] || 0);\n                    }\n                }\n                total += sum;\n                partialsum[i] = total;\n            }\n        }\n        partialsum.forEach(function(d, i) {\n            lookaheadsum[i] = total - d\n        });\n\n        function doCut(color) {\n            var dim1 = color + '1',\n                dim2 = color + '2',\n                left, right, vbox1, vbox2, d2, count2 = 0;\n            for (i = vbox[dim1]; i <= vbox[dim2]; i++) {\n                if (partialsum[i] > total / 2) {\n                    vbox1 = vbox.copy();\n                    vbox2 = vbox.copy();\n                    left = i - vbox[dim1];\n                    right = vbox[dim2] - i;\n                    if (left <= right)\n                        d2 = Math.min(vbox[dim2] - 1, ~~ (i + right / 2));\n                    else d2 = Math.max(vbox[dim1], ~~ (i - 1 - left / 2));\n                    // avoid 0-count boxes\n                    while (!partialsum[d2]) d2++;\n                    count2 = lookaheadsum[d2];\n                    while (!count2 && partialsum[d2 - 1]) count2 = lookaheadsum[--d2];\n                    // set dimensions\n                    vbox1[dim2] = d2;\n                    vbox2[dim1] = vbox1[dim2] + 1;\n                    // console.log('vbox counts:', vbox.count(), vbox1.count(), vbox2.count());\n                    return [vbox1, vbox2];\n                }\n            }\n\n        }\n        // determine the cut planes\n        return maxw == rw ? doCut('r') :\n            maxw == gw ? doCut('g') :\n            doCut('b');\n    }\n\n    function quantize(pixels, maxcolors) {\n        // short-circuit\n        if (!pixels.length || maxcolors < 2 || maxcolors > 256) {\n            // console.log('wrong number of maxcolors');\n            return false;\n        }\n\n        // XXX: check color content and convert to grayscale if insufficient\n\n        var histo = getHisto(pixels),\n            histosize = 1 << (3 * sigbits);\n\n        // check that we aren't below maxcolors already\n        var nColors = 0;\n        histo.forEach(function() {\n            nColors++\n        });\n        if (nColors <= maxcolors) {\n            // XXX: generate the new colors from the histo and return\n        }\n\n        // get the beginning vbox from the colors\n        var vbox = vboxFromPixels(pixels, histo),\n            pq = new PQueue(function(a, b) {\n                return pv.naturalOrder(a.count(), b.count())\n            });\n        pq.push(vbox);\n\n        // inner function to do the iteration\n\n        function iter(lh, target) {\n            var ncolors = 1,\n                niters = 0,\n                vbox;\n            while (niters < maxIterations) {\n                vbox = lh.pop();\n                if (!vbox.count()) { /* just put it back */\n                    lh.push(vbox);\n                    niters++;\n                    continue;\n                }\n                // do the cut\n                var vboxes = medianCutApply(histo, vbox),\n                    vbox1 = vboxes[0],\n                    vbox2 = vboxes[1];\n\n                if (!vbox1) {\n                    // console.log(\"vbox1 not defined; shouldn't happen!\");\n                    return;\n                }\n                lh.push(vbox1);\n                if (vbox2) { /* vbox2 can be null */\n                    lh.push(vbox2);\n                    ncolors++;\n                }\n                if (ncolors >= target) return;\n                if (niters++ > maxIterations) {\n                    // console.log(\"infinite loop; perhaps too few pixels!\");\n                    return;\n                }\n            }\n        }\n\n        // first set of colors, sorted by population\n        iter(pq, fractByPopulations * maxcolors);\n        // console.log(pq.size(), pq.debug().length, pq.debug().slice());\n\n        // Re-sort by the product of pixel occupancy times the size in color space.\n        var pq2 = new PQueue(function(a, b) {\n            return pv.naturalOrder(a.count() * a.volume(), b.count() * b.volume())\n        });\n        while (pq.size()) {\n            pq2.push(pq.pop());\n        }\n\n        // next set - generate the median cuts using the (npix * vol) sorting.\n        iter(pq2, maxcolors - pq2.size());\n\n        // calculate the actual colors\n        var cmap = new CMap();\n        while (pq2.size()) {\n            cmap.push(pq2.pop());\n        }\n\n        return cmap;\n    }\n\n    return {\n        quantize: quantize\n    }\n})();\n\nmodule.exports = MMCQ.quantize\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"c4d3cd24fec95e2600be\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t771: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkmytonwallet\"] = self[\"webpackChunkmytonwallet\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","import { transformBytesByStream } from './stream';\n\nexport async function ungzip(input: BufferSource): Promise<Uint8Array> {\n  const decompressionStream = tryCreateDecompressionStream('gzip');\n  if (decompressionStream) {\n    return transformBytesByStream(input, decompressionStream);\n  }\n\n  // Fflate is a polyfill, so we load it only if necessary.\n  // Note: it's import `gunzipSync` exactly this way, otherwise the tree-shaking won't work.\n  const { gunzipSync } = await import('fflate');\n  return gunzipSync(bufferSourceToBytes(input));\n}\n\nfunction tryCreateDecompressionStream(format: CompressionFormat) {\n  try {\n    // If the format or `DecompressionStream` is not supported by the browser, this expression throws\n    return new DecompressionStream(format);\n  } catch {\n    return undefined;\n  }\n}\n\nfunction bufferSourceToBytes(source: BufferSource): Uint8Array {\n  if (source instanceof ArrayBuffer) {\n    return new Uint8Array(source);\n  }\n  return new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n}\n","export function transformBytesByStream(input: BufferSource, stream: GenericTransformStream): Promise<Uint8Array> {\n  const writer = stream.writable.getWriter();\n  void writer.write(input);\n  void writer.close();\n\n  return readBytesFromStream(stream.readable);\n}\n\n/**\n * Reads the whole readable binary stream into a Uint8Array\n */\nasync function readBytesFromStream(stream: ReadableStream): Promise<Uint8Array> {\n  const reader = stream.getReader();\n  const output: Uint8Array[] = [];\n  let totalSize = 0;\n  for (;;) {\n    const { value, done } = await reader.read();\n    if (done) {\n      break;\n    }\n    output.push(value);\n    totalSize += value.byteLength;\n  }\n\n  if (output.length === 1) {\n    return output[0];\n  }\n\n  const concatenated = new Uint8Array(totalSize);\n  let offset = 0;\n  for (const array of output) {\n    concatenated.set(array, offset);\n    offset += array.byteLength;\n  }\n  return concatenated;\n}\n","import type { ApiTonWalletVersion } from './api/chains/ton/types';\nimport type {\n  ApiBaseCurrency,\n  ApiLiquidStakingState,\n  ApiNominatorsStakingState,\n  ApiSwapAsset,\n  ApiSwapDexLabel,\n} from './api/types';\nimport type { LangItem, TokenPeriod } from './global/types';\n\nexport const APP_ENV = process.env.APP_ENV;\n\nexport const IS_CORE_WALLET = process.env.IS_CORE_WALLET === '1';\nexport const APP_NAME = process.env.APP_NAME || (IS_CORE_WALLET ? 'TON Wallet' : 'MyTonWallet');\nexport const APP_VERSION = process.env.APP_VERSION!;\nexport const APP_ENV_MARKER = APP_ENV === 'staging' ? 'Beta' : APP_ENV === 'development' ? 'Dev' : undefined;\nexport const EXTENSION_NAME = IS_CORE_WALLET ? 'TON Wallet' : 'MyTonWallet  My TON Wallet';\nexport const EXTENSION_DESCRIPTION = IS_CORE_WALLET\n  ? 'Set up your own TON Wallet on The Open Network'\n  // eslint-disable-next-line max-len\n  : 'The most feature-rich TON extension  with support of multi-accounts, tokens, NFT, TON DNS, TON Sites, TON Proxy, and TON Magic.';\n\nexport const DEBUG = APP_ENV !== 'production' && APP_ENV !== 'perf' && APP_ENV !== 'test';\nexport const DEBUG_MORE = false;\nexport const DEBUG_API = false;\n\nexport const IS_PRODUCTION = APP_ENV === 'production';\nexport const IS_TEST = APP_ENV === 'test';\nexport const IS_PERF = APP_ENV === 'perf';\nexport const IS_EXTENSION = process.env.IS_EXTENSION === '1';\nexport const IS_FIREFOX_EXTENSION = process.env.IS_FIREFOX_EXTENSION === '1';\nexport const IS_OPERA_EXTENSION = process.env.IS_OPERA_EXTENSION === '1';\nexport const IS_PACKAGED_ELECTRON = process.env.IS_PACKAGED_ELECTRON === '1';\nexport const IS_CAPACITOR = process.env.IS_CAPACITOR === '1';\nexport const IS_ANDROID_DIRECT = process.env.IS_ANDROID_DIRECT === '1';\nexport const IS_AIR_APP = process.env.IS_AIR_APP === '1';\nexport const IS_TELEGRAM_APP = process.env.IS_TELEGRAM_APP === '1';\n\nexport const ELECTRON_HOST_URL = 'https://dumb-host';\nexport const INACTIVE_MARKER = '[Inactive]';\nexport const PRODUCTION_URL = IS_CORE_WALLET ? 'https://wallet.ton.org' : 'https://mytonwallet.app';\nexport const BETA_URL = IS_CORE_WALLET ? 'https://beta.wallet.ton.org' : 'https://beta.mytonwallet.app';\nexport const APP_INSTALL_URL = 'https://get.mytonwallet.io/';\nexport const APP_REPO_URL = 'https://github.com/mytonwalletorg/mytonwallet';\nexport const BASE_URL = process.env.BASE_URL;\n\nexport const BOT_USERNAME = process.env.BOT_USERNAME || 'MyTonWalletBot';\n\nexport const SWAP_FEE_ADDRESS = process.env.SWAP_FEE_ADDRESS || 'UQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0GOp';\nexport const DIESEL_ADDRESS = process.env.DIESEL_ADDRESS || 'UQC9lQOaEHC6YASiJJ2NrKEOlITMMQmc8j0_iZEHy-4sl3tG';\n\nexport const STRICTERDOM_ENABLED = DEBUG && !IS_PACKAGED_ELECTRON;\n\nexport const DEBUG_ALERT_MSG = 'Shoot!\\nSomething went wrong, please see the error details in Dev Tools Console.';\n\nexport const PIN_LENGTH = 4;\nexport const NATIVE_BIOMETRICS_USERNAME = IS_CORE_WALLET ? 'TonWallet' : 'MyTonWallet';\nexport const NATIVE_BIOMETRICS_SERVER = IS_CORE_WALLET ? 'https://wallet.ton.org' : 'https://mytonwallet.app';\n\nexport const IS_BIP39_MNEMONIC_ENABLED = !IS_CORE_WALLET;\nexport const MNEMONIC_COUNT = 24;\nexport const MNEMONIC_COUNTS = IS_BIP39_MNEMONIC_ENABLED ? [12, 24] : [24];\n\nexport const PRIVATE_KEY_HEX_LENGTH = 64;\nexport const MNEMONIC_CHECK_COUNT = 3;\n\nexport const MOBILE_SCREEN_MAX_WIDTH = 700; // px\n\nexport const ANIMATION_END_DELAY = 50;\n\nexport const ANIMATED_STICKER_TINY_ICON_PX = 16;\nexport const ANIMATED_STICKER_ICON_PX = 30;\nexport const ANIMATED_STICKER_TINY_SIZE_PX = 70;\nexport const ANIMATED_STICKER_SMALL_SIZE_PX = 110;\nexport const ANIMATED_STICKER_MIDDLE_SIZE_PX = 120;\nexport const ANIMATED_STICKER_DEFAULT_PX = 150;\nexport const ANIMATED_STICKER_BIG_SIZE_PX = 156;\nexport const ANIMATED_STICKER_HUGE_SIZE_PX = 192;\n\nexport const DEFAULT_LANDSCAPE_ACTION_TAB_ID = 0;\nexport const TRANSACTION_ADDRESS_SHIFT = 4;\n\nexport const WHOLE_PART_DELIMITER = ''; // https://www.compart.com/en/unicode/U+202F\n\nexport const DEFAULT_SLIPPAGE_VALUE = 5;\n\nexport const GLOBAL_STATE_CACHE_DISABLED = false;\nexport const GLOBAL_STATE_CACHE_KEY = IS_CORE_WALLET ? 'tonwallet-global-state' : 'mytonwallet-global-state';\n\nexport const ANIMATION_LEVEL_MIN = 0;\nexport const ANIMATION_LEVEL_MED = 1;\nexport const ANIMATION_LEVEL_MAX = 2;\nexport const ANIMATION_LEVEL_DEFAULT = ANIMATION_LEVEL_MAX;\nexport const THEME_DEFAULT = 'system';\n\nexport const MAIN_ACCOUNT_ID = '0-ton-mainnet';\n\nexport const TONCENTER_MAINNET_URL = process.env.TONCENTER_MAINNET_URL || 'https://toncenter.mytonwallet.org';\nexport const TONCENTER_MAINNET_KEY = process.env.TONCENTER_MAINNET_KEY;\nexport const ELECTRON_TONCENTER_MAINNET_KEY = process.env.ELECTRON_TONCENTER_MAINNET_KEY;\nexport const TONAPIIO_MAINNET_URL = process.env.TONAPIIO_MAINNET_URL || 'https://tonapiio.mytonwallet.org';\n\nexport const TONCENTER_TESTNET_URL = process.env.TONCENTER_TESTNET_URL || 'https://toncenter-testnet.mytonwallet.org';\nexport const TONCENTER_TESTNET_KEY = process.env.TONCENTER_TESTNET_KEY;\nexport const ELECTRON_TONCENTER_TESTNET_KEY = process.env.ELECTRON_TONCENTER_TESTNET_KEY;\nexport const TONAPIIO_TESTNET_URL = process.env.TONAPIIO_TESTNET_URL || 'https://tonapiio-testnet.mytonwallet.org';\n\nexport const BRILLIANT_API_BASE_URL = process.env.BRILLIANT_API_BASE_URL || 'https://api.mytonwallet.org';\n\nexport const TRON_MAINNET_API_URL = process.env.TRON_MAINNET_API_URL || 'https://tronapi.mytonwallet.org';\nexport const TRON_TESTNET_API_URL = process.env.TRON_TESTNET_API_URL || 'https://api.shasta.trongrid.io';\n\nexport const FRACTION_DIGITS = 9;\nexport const SHORT_FRACTION_DIGITS = 2;\n\nexport const MAX_PUSH_NOTIFICATIONS_ACCOUNT_COUNT = 3;\n\nexport const SUPPORT_USERNAME = 'mysupport';\nexport const MTW_TIPS_CHANNEL_NAME = { en: 'MyTonWalletTips', ru: 'MyTonWalletTipsRu' };\nexport const MTW_CARDS_BASE_URL = 'https://static.mytonwallet.org/cards/';\nexport const MTW_CARDS_MINT_BASE_URL = 'https://static.mytonwallet.org/mint-cards/';\nexport const MYTONWALLET_PROMO_URL = 'https://mytonwallet.io/';\nexport const TELEGRAM_WEB_URL = 'https://web.telegram.org/a/';\nexport const NFT_MARKETPLACE_URL = 'https://getgems.io/';\nexport const NFT_MARKETPLACE_TITLE = 'GetGems';\nexport const GETGEMS_BASE_MAINNET_URL = 'https://getgems.io/';\nexport const GETGEMS_BASE_TESTNET_URL = 'https://testnet.getgems.io/';\nexport const HELPCENTER_URL = { en: 'https://help.mytonwallet.io/', ru: 'https://help.mytonwallet.io/ru' };\nexport const EMPTY_HASH_VALUE = 'NOHASH';\n\nexport const CHANGELLY_SUPPORT_EMAIL = 'support@changelly.com';\nexport const CHANGELLY_LIVE_CHAT_URL = 'https://changelly.com/';\nexport const CHANGELLY_SECURITY_EMAIL = 'security@changelly.com';\nexport const CHANGELLY_TERMS_OF_USE = 'https://changelly.com/terms-of-use';\nexport const CHANGELLY_PRIVACY_POLICY = 'https://changelly.com/privacy-policy';\nexport const CHANGELLY_AML_KYC = 'https://changelly.com/aml-kyc';\nexport const CHANGELLY_WAITING_DEADLINE = 3 * 60 * 60 * 1000; // 3 hour\n\nexport const PROXY_HOSTS = process.env.PROXY_HOSTS;\n\nexport const TINY_TRANSFER_MAX_COST = 0.01;\n\nexport const IMAGE_CACHE_NAME = 'mtw-image';\nexport const LANG_CACHE_NAME = 'mtw-lang-182';\n\nexport const LANG_LIST: LangItem[] = [{\n  langCode: 'en',\n  name: 'English',\n  nativeName: 'English',\n  rtl: false,\n}, {\n  langCode: 'es',\n  name: 'Spanish',\n  nativeName: 'Espaol',\n  rtl: false,\n}, {\n  langCode: 'ru',\n  name: 'Russian',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'zh-Hans',\n  name: 'Chinese (Simplified)',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'zh-Hant',\n  name: 'Chinese (Traditional)',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'tr',\n  name: 'Turkish',\n  nativeName: 'Trke',\n  rtl: false,\n}, {\n  langCode: 'de',\n  name: 'German',\n  nativeName: 'Deutsch',\n  rtl: false,\n}, {\n  langCode: 'th',\n  name: 'Thai',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'uk',\n  name: 'Ukrainian',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'pl',\n  name: 'Polish',\n  nativeName: 'Polski',\n  rtl: false,\n}];\n\nexport const IS_STAKING_DISABLED = IS_CORE_WALLET;\nexport const STAKING_CYCLE_DURATION_MS = 131_072_000; // 36.4 hours\nexport const VALIDATION_PERIOD_MS = 65_536_000; // 18.2 h.\nexport const ONE_TON = 1_000_000_000n;\nexport const DEFAULT_FEE = 15_000_000n; // 0.015 TON\n\nexport const STAKING_POOLS = process.env.STAKING_POOLS ? process.env.STAKING_POOLS.split(' ') : [];\nexport const LIQUID_POOL = process.env.LIQUID_POOL || 'EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o';\nexport const LIQUID_JETTON = process.env.LIQUID_JETTON || 'EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE';\nexport const STAKING_MIN_AMOUNT = ONE_TON;\nexport const NOMINATORS_STAKING_MIN_AMOUNT = 10_000n * ONE_TON;\nexport const MIN_ACTIVE_STAKING_REWARDS = 100_000_000n; // 0.1 MY\n\nexport const TONCONNECT_PROTOCOL_VERSION = 2;\nexport const TONCONNECT_WALLET_JSBRIDGE_KEY = IS_CORE_WALLET ? 'tonwallet' : 'mytonwallet';\n\nexport const NFT_FRAGMENT_COLLECTIONS = new Set([\n  '0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2', // Anonymous Telegram Numbers\n  '0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2', // Telegram Usernames\n]);\nexport const NFT_FRAGMENT_GIFT_IMAGE_URL_PREFIX = 'https://nft.fragment.com/gift/';\nexport const NFT_FRAGMENT_GIFT_IMAGE_TO_URL_REGEX = /^https?:\\/\\/nft\\.(fragment\\.com\\/gift\\/[\\w-]+-\\d+)\\.\\w+$/i;\n\nexport const MTW_CARDS_WEBSITE = 'https://cards.mytonwallet.io';\nexport const MTW_CARDS_COLLECTION = 'EQCQE2L9hfwx1V8sgmF9keraHx1rNK9VmgR1ctVvINBGykyM';\nexport const TON_DNS_COLLECTION = 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz';\n\nexport const TONCOIN = {\n  name: 'Toncoin',\n  symbol: 'TON',\n  slug: 'toncoin',\n  decimals: 9,\n  chain: 'ton',\n  cmcSlug: 'toncoin',\n} as const;\n\nexport const TRX = {\n  name: 'TRON',\n  symbol: 'TRX',\n  slug: 'trx',\n  decimals: 6,\n  chain: 'tron',\n  cmcSlug: 'tron',\n} as const;\n\nexport const MYCOIN = {\n  name: 'MyTonWallet Coin',\n  symbol: 'MY',\n  slug: 'ton-eqcfvnlrbn',\n  decimals: 9,\n  chain: 'ton',\n  minterAddress: 'EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w',\n} as const;\n\nexport const MYCOIN_TESTNET = {\n  ...MYCOIN,\n  slug: 'ton-kqawlxpebw',\n  minterAddress: 'kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ',\n} as const;\n\nexport const CHAIN_CONFIG = {\n  ton: {\n    isMemoSupported: true,\n    isDnsSupported: true,\n    addressRegex: /^([-\\w_]{48}|0:[\\da-h]{64})$/i,\n    addressPrefixRegex: /^([-\\w_]{1,48}|0:[\\da-h]{0,64})$/i,\n    nativeToken: TONCOIN,\n  },\n  tron: {\n    isMemoSupported: false,\n    isDnsSupported: false,\n    addressRegex: /^T[1-9A-HJ-NP-Za-km-z]{33}$/,\n    addressPrefixRegex: /^T[1-9A-HJ-NP-Za-km-z]{0,33}$/,\n    nativeToken: TRX,\n    mainnet: {\n      apiUrl: TRON_MAINNET_API_URL,\n      usdtAddress: 'TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t',\n    },\n    testnet: {\n      apiUrl: TRON_TESTNET_API_URL,\n      usdtAddress: 'TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs',\n    },\n  },\n} as const;\n\nexport const TRC20_USDT_MAINNET_SLUG = 'tron-tr7nhqjekq';\nexport const TRC20_USDT_TESTNET_SLUG = 'tron-tg3xxyexbk';\nexport const TON_USDT_SLUG = 'ton-eqcxe6mutq';\nexport const STAKED_TON_SLUG = 'ton-eqcqc6ehrj';\nexport const STAKED_MYCOIN_SLUG = 'ton-eqcbzvsfwq';\nexport const TRX_SWAP_COUNT_FEE_ADDRESS = 'TW2LXSebZ7Br1zHaiA2W1zRojDkDwjGmpw';\nexport const MYCOIN_STAKING_POOL = 'EQC3roTiRRsoLzfYVK7yVVoIZjTEqAjQU3ju7aQ7HWTVL5o5';\n\n// In cross-chain swaps, only a few TON/TRON tokens are available.\n// Its not optimal to request swap history for all the others.\nexport const SWAP_CROSSCHAIN_SLUGS = new Set([\n  TONCOIN.slug,\n  TON_USDT_SLUG,\n  TRX.slug,\n  TRC20_USDT_MAINNET_SLUG,\n]);\n\nexport const STON_PTON_ADDRESS = 'EQCM3B12QK1e4yZSf8GtBRT0aLMNyEsBc_DhVfRRtOEffLez';\n\nexport const DNS_IMAGE_GEN_URL = 'https://dns-image.mytonwallet.org/img?d=';\n\nconst TRC20_USDT = {\n  name: 'Tether USD',\n  symbol: 'USDT',\n  decimals: 6,\n  chain: 'tron',\n} as const;\n\nconst TON_USDT = {\n  name: 'Tether USD',\n  symbol: 'USD',\n  chain: 'ton',\n  slug: TON_USDT_SLUG,\n  decimals: 6,\n  tokenAddress: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',\n} as const;\n\nexport const DEFAULT_ENABLED_TOKEN_SLUGS = [\n  TONCOIN.slug, TON_USDT_SLUG, TRX.slug, TRC20_USDT_TESTNET_SLUG, TRC20_USDT_MAINNET_SLUG,\n] as string[];\n\n// Toncoin, USDT TON, TRX, USDT TRC20\nexport const DEFAULT_ENABLED_TOKEN_COUNT = 4;\n\nexport const PRIORITY_TOKEN_SLUGS = [\n  TONCOIN.slug, TON_USDT_SLUG, TRX.slug,\n] as string[];\n\nexport const TOKEN_INFO = {\n  toncoin: {\n    ...TONCOIN,\n    quote: {\n      slug: TONCOIN.slug,\n      price: 1.95,\n      priceUsd: 1.95,\n      percentChange24h: 0,\n    },\n  },\n  trx: {\n    ...TRX,\n    quote: {\n      slug: TRX.slug,\n      price: 0,\n      priceUsd: 0,\n      percentChange24h: 0,\n    },\n  },\n  [TRC20_USDT_MAINNET_SLUG]: { // mainnet\n    ...TRC20_USDT,\n    slug: TRC20_USDT_MAINNET_SLUG,\n    tokenAddress: 'TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t',\n    quote: {\n      slug: TRC20_USDT_MAINNET_SLUG,\n      price: 0,\n      priceUsd: 0,\n      percentChange24h: 0,\n    },\n  },\n  [TRC20_USDT_TESTNET_SLUG]: { // testnet\n    ...TRC20_USDT,\n    slug: TRC20_USDT_TESTNET_SLUG,\n    tokenAddress: 'TG3XXyExBkPp9nzdajDZsozEu4BkaSJozs',\n    quote: {\n      slug: TRC20_USDT_TESTNET_SLUG,\n      price: 0,\n      priceUsd: 0,\n      percentChange24h: 0,\n    },\n  },\n  [TON_USDT_SLUG]: {\n    ...TON_USDT,\n    // eslint-disable-next-line max-len\n    image: 'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',\n    quote: {\n      slug: TON_USDT_SLUG,\n      price: 0,\n      priceUsd: 0,\n      percentChange24h: 0,\n    },\n  },\n  [MYCOIN.slug]: {\n    ...MYCOIN,\n    // eslint-disable-next-line max-len\n    image: 'https://cache.tonapi.io/imgproxy/Qy038wCBKISofJ0hYMlj6COWma330cx3Ju1ZSPM2LRU/rs:fill:200:200:1/g:no/aHR0cHM6Ly9teXRvbndhbGxldC5pby9sb2dvLTI1Ni1ibHVlLnBuZw.webp',\n    quote: {\n      slug: MYCOIN.slug,\n      price: 0,\n      priceUsd: 0,\n      percentChange24h: 0,\n    },\n  },\n};\n\nexport const TOKEN_WITH_LABEL: Record<string, string> = {\n  [TRC20_USDT_MAINNET_SLUG]: 'TRC-20',\n  [TRC20_USDT_TESTNET_SLUG]: 'TRC-20',\n  [TON_USDT_SLUG]: 'TON',\n};\n\nexport const INIT_SWAP_ASSETS: Record<string, ApiSwapAsset> = {\n  toncoin: {\n    name: 'Toncoin',\n    symbol: TONCOIN.symbol,\n    chain: TONCOIN.chain,\n    slug: TONCOIN.slug,\n    decimals: TONCOIN.decimals,\n    price: 0,\n    priceUsd: 0,\n    isPopular: true,\n  },\n  [TON_USDT_SLUG]: {\n    name: 'Tether USD',\n    symbol: 'USD',\n    chain: 'ton',\n    slug: TON_USDT_SLUG,\n    decimals: 9,\n    // eslint-disable-next-line max-len\n    image: 'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',\n    tokenAddress: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',\n    price: 0,\n    priceUsd: 0,\n    isPopular: true,\n  },\n};\n\nexport const DEFAULT_TRX_SWAP_FIRST_TOKEN_SLUG = TONCOIN.slug;\nexport const DEFAULT_SWAP_FISRT_TOKEN_SLUG = TONCOIN.slug;\nexport const DEFAULT_SWAP_SECOND_TOKEN_SLUG = TON_USDT_SLUG;\nexport const DEFAULT_TRANSFER_TOKEN_SLUG = TONCOIN.slug;\nexport const DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG = TRC20_USDT_MAINNET_SLUG;\nexport const SWAP_DEX_LABELS: Record<ApiSwapDexLabel, string> = {\n  dedust: 'DeDust',\n  ston: 'STON.fi',\n};\n\nexport const MULTITAB_DATA_CHANNEL_NAME = IS_CORE_WALLET ? 'tw-multitab' : 'mtw-multitab';\nexport const ACTIVE_TAB_STORAGE_KEY = IS_CORE_WALLET ? 'tw-active-tab' : 'mtw-active-tab';\n\nexport const INDEXED_DB_NAME = 'keyval-store';\nexport const INDEXED_DB_STORE_NAME = 'keyval';\n\nexport const WINDOW_PROVIDER_CHANNEL = 'windowProvider';\n\nexport const SHOULD_SHOW_ALL_ASSETS_AND_ACTIVITY = IS_CORE_WALLET;\nexport const PORTRAIT_MIN_ASSETS_TAB_VIEW = 4;\nexport const LANDSCAPE_MIN_ASSETS_TAB_VIEW = 6;\n\nexport const DEFAULT_PRICE_CURRENCY = 'USD';\nexport const SHORT_CURRENCY_SYMBOL_MAP = {\n  USD: '$',\n  EUR: '',\n  RUB: '',\n  CNY: '',\n};\nexport const CURRENCY_LIST: { value: ApiBaseCurrency; name: string }[] = [\n  {\n    value: 'USD',\n    name: 'US Dollar',\n  }, {\n    value: 'EUR',\n    name: 'Euro',\n  }, {\n    value: 'RUB',\n    name: 'Ruble',\n  }, {\n    value: 'CNY',\n    name: 'Yuan',\n  }, {\n    value: 'BTC',\n    name: 'Bitcoin',\n  }, {\n    value: TONCOIN.symbol,\n    name: 'Toncoin',\n  },\n];\n\nexport const BURN_ADDRESS = 'UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ';\n\nexport const DEFAULT_WALLET_VERSION: ApiTonWalletVersion = 'W5';\nexport const POPULAR_WALLET_VERSIONS: ApiTonWalletVersion[] = ['v3R1', 'v3R2', 'v4R2', 'W5'];\nexport const LEDGER_WALLET_VERSIONS: ApiTonWalletVersion[] = ['v3R2', 'v4R2'];\n\nexport const DEFAULT_TIMEOUT = 10000;\nexport const DEFAULT_RETRIES = 3;\nexport const DEFAULT_ERROR_PAUSE = 500;\n\nexport const HISTORY_PERIODS: TokenPeriod[] = ['1D', '7D', '1M', '3M', '1Y', 'ALL'];\n\nexport const BROWSER_HISTORY_LIMIT = 10;\n\nexport const NFT_BATCH_SIZE = 4;\nexport const NOTCOIN_VOUCHERS_ADDRESS = 'EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW';\nexport const BURN_CHUNK_DURATION_APPROX_SEC = 30;\nexport const NOTCOIN_FORWARD_TON_AMOUNT = 30000000n; // 0.03 TON\nexport const NOTCOIN_EXCHANGERS = [\n  'EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2',\n  'EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ',\n  'EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s',\n  'EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm',\n  'EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd',\n  'EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD',\n  'EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p',\n  'EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO',\n  'EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe',\n  'EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-',\n  'EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu',\n  'EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH',\n  'EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy',\n  'EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT',\n  'EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu',\n  'EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw',\n] as const;\n\nexport const CLAIM_ADDRESS = 'EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash';\nexport const CLAIM_AMOUNT = 30000000n; // 0.03 TON\nexport const CLAIM_COMMENT = 'claim';\n\nexport const MINT_CARD_ADDRESS = 'UQBpst3ZWJ9Dqq5gE2YH-yPsFK_BqMOmgi7Z_qK6v7WbrKhq';\nexport const MINT_CARD_COMMENT = 'Mint card';\n\n// eslint-disable-next-line max-len\nexport const RE_LINK_TEMPLATE = /((ftp|https?):\\/\\/)?(?<host>(www\\\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)/g;\n// eslint-disable-next-line max-len\nexport const RE_TG_BOT_MENTION = /telegram[:\\s-]*((@[a-z0-9_]+)|(https:\\/\\/)?(t\\.me|telegram\\.me|telegram\\.dog)\\/[a-z0-9_]+)/mig;\n\nexport const STARS_SYMBOL = '';\n\nexport const GIVEAWAY_CHECKIN_URL = process.env.GIVEAWAY_CHECKIN_URL || 'https://giveaway.mytonwallet.io';\n\nexport const AUTOLOCK_OPTIONS_LIST = [\n  {\n    value: 'never',\n    name: 'Disabled',\n    selectedName: 'Disabled',\n    period: 0,\n  },\n  {\n    value: '1',\n    name: '30 seconds',\n    selectedName: 'If away for 30 sec',\n    period: 30_000,\n  },\n  {\n    value: '2',\n    name: '3 minutes',\n    selectedName: 'If away for 3 min',\n    period: 60_000 * 3,\n  },\n  {\n    value: '3',\n    name: '10 minutes',\n    selectedName: 'If away for 10 min',\n    period: 60_000 * 10,\n  },\n] as const;\n\nexport const PRICELESS_TOKEN_HASHES = new Set([\n  '82566ad72b6568fe7276437d3b0c911aab65ed701c13601941b2917305e81c11', // Stonfi V1\n  'ec614ea4aaea3f7768606f1c1632b3374d3de096a1e7c4ba43c8009c487fee9d', // Stonfi V2\n  'c0f9d14fbc8e14f0d72cba2214165eee35836ab174130912baf9dbfa43ead562', // Dedust (for example, EQBkh7Mc411WTYF0o085MtwJpYpvGhZOMBphhIFzEpzlVODp)\n  '1275095b6da3911292406f4f4386f9e780099b854c6dee9ee2895ddce70927c1', // Dedust (for example, EQCm92zFBkLe_qcFDp7WBvI6JFSDsm4WbDPvZ7xNd7nPL_6M)\n  '5d01684bdf1d5c9be2682c4e36074202432628bd3477d77518d66b0976b78cca', // USDT Storm LP (for example, EQAzm06UMMsnFQrNKEubV1myIR-mm2ZOCnoic36frCgD8MLR)\n  '173e31eee054cb0c76f77edc7956bed766bf48a1f63bd062d87040dcd3df700f', // FIVA SY tsTON EQAxGi9Al7hamLAORroxGkvfap6knGyzI50ThkP3CLPLTtOZ\n  '5226dd4e6db9af26b24d5ca822bc4053b7e08152f923932abf25030c7e38bb42', // FIVA PT tsTON EQAkxIRGXgs2vD2zjt334MBjD3mXg2GsyEZHfzuYX_trQkFL\n  'fea2c08a704e5192b7f37434927170440d445b87aab865c3ea2a68abe7168204', // FIVA YT tsTON EQAcy60qg22RCq87A_qgYK8hooEgjCZ44yxhdnKYdlWIfKXL\n  'e691cf9081a8aeb22ed4d94829f6626c9d822752e035800b5543c43f83d134b5', // FIVA LP tsTON EQD3BjCjxuf8mu5kvxajVbe-Ila1ScZZlAi03oS7lMmAJjM3\n  '301ce25925830d713b326824e552e962925c4ff45b1e3ea21fc363a459a49b43', // FIVA SY eUSDT EQDi9blCcyT-k8iMpFMYY0t7mHVyiCB50ZsRgyUECJDuGvIl\n  '02250f83fbb8624d859c2c045ac70ee2b3b959688c3d843aec773be9b36dbfc3', // FIVA PT eUSDT EQBzVrYkYPHx8D_HPfQacm1xONa4XSRxl826vHkx_laP2HOe\n  'dba3adb2c917db80fd71a6a68c1fc9e12976491a8309d5910f9722efc084ce4d', // FIVA YT eUSDT EQCwUSc2qrY5rn9BfFBG9ARAHePTUvITDl97UD0zOreWzLru\n  '7da9223b90984d6a144e71611a8d7c65a6298cad734faed79438dc0f7a8e53d1', // FIVA LP eUSDT EQBNlIZxIbQGQ78cXgG3VRcyl8A0kLn_6BM9kabiHHhWC4qY\n]);\n\nexport const STAKED_TOKEN_SLUGS = new Set([\n  STAKED_TON_SLUG,\n  STAKED_MYCOIN_SLUG,\n]);\n\nexport const DEFAULT_OUR_SWAP_FEE = 0.875;\n\nexport const DEFAULT_STAKING_STATE: ApiLiquidStakingState = {\n  type: 'liquid',\n  id: 'liquid',\n  tokenSlug: TONCOIN.slug,\n  annualYield: 3.9,\n  yieldType: 'APY',\n  balance: 0n,\n  pool: LIQUID_POOL,\n  tokenBalance: 0n,\n  unstakeRequestAmount: 0n,\n  instantAvailable: 0n,\n};\n\nexport const DEFAULT_NOMINATORS_STAKING_STATE: ApiNominatorsStakingState = {\n  type: 'nominators',\n  id: 'nominators',\n  tokenSlug: TONCOIN.slug,\n  annualYield: 3.9,\n  yieldType: 'APY',\n  balance: 0n,\n  pool: 'Ef8dgIOIRyCLU0NEvF8TD6Me3wrbrkS1z3Gpjk3ppd8m8-s_',\n  start: 0,\n  end: 0,\n  pendingDepositAmount: 0n,\n};\n\nexport const SWAP_API_VERSION = 2;\n\nexport const JVAULT_URL = 'https://jvault.xyz';\n\nexport const TON_DNS_ZONES = [\n  {\n    suffixes: ['ton'],\n    baseFormat: /^([-\\da-z]+\\.){0,2}[-\\da-z]{4,126}$/i,\n    resolver: 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz',\n    collectionName: 'TON DNS Domains',\n  },\n  {\n    suffixes: ['t.me'],\n    baseFormat: /^([-\\da-z]+\\.){0,2}[-_\\da-z]{4,32}$/i,\n    resolver: 'EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi',\n    isTelemint: true,\n    collectionName: 'Telegram Usernames',\n  },\n  {\n    suffixes: ['vip', 'ton.vip', 'vip.ton'],\n    baseFormat: /^([-\\da-z]+\\.){0,2}?[\\da-z]{1,24}$/i,\n    resolver: 'EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS',\n    collectionName: 'VIP DNS Domains',\n    isUnofficial: true,\n  },\n  {\n    suffixes: ['gram'],\n    baseFormat: /^([-\\da-z]+\\.){0,2}[\\da-z]{1,127}$/i,\n    resolver: 'EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ',\n    collectionName: 'GRAM DNS Domains',\n    isUnofficial: true,\n  },\n];\n","/*\n *  big.js v6.2.1\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\n *  Copyright (c) 2022 Michael Mclaughlin\n *  https://github.com/MikeMcl/big.js/LICENCE.md\n */\n\n\n/************************************** EDITABLE DEFAULTS *****************************************/\n\n\n  // The default values below must be integers within the stated ranges.\n\n  /*\n   * The maximum number of decimal places (DP) of the results of operations involving division:\n   * div and sqrt, and pow with negative exponents.\n   */\nvar DP = 20,          // 0 to MAX_DP\n\n  /*\n   * The rounding mode (RM) used when rounding to the above decimal places.\n   *\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\n   *  3  Away from zero.                                  (ROUND_UP)\n   */\n  RM = 1,             // 0, 1, 2 or 3\n\n  // The maximum value of DP and Big.DP.\n  MAX_DP = 1E6,       // 0 to 1000000\n\n  // The maximum magnitude of the exponent argument to the pow method.\n  MAX_POWER = 1E6,    // 1 to 1000000\n\n  /*\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\n   * (JavaScript numbers: -7)\n   * -1000000 is the minimum recommended exponent value of a Big.\n   */\n  NE = -7,            // 0 to -1000000\n\n  /*\n   * The positive exponent (PE) at and above which toString returns exponential notation.\n   * (JavaScript numbers: 21)\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\n   */\n  PE = 21,            // 0 to 1000000\n\n  /*\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\n   * primitive number without a loss of precision.\n   */\n  STRICT = false,     // true or false\n\n\n/**************************************************************************************************/\n\n\n  // Error messages.\n  NAME = '[big.js] ',\n  INVALID = NAME + 'Invalid ',\n  INVALID_DP = INVALID + 'decimal places',\n  INVALID_RM = INVALID + 'rounding mode',\n  DIV_BY_ZERO = NAME + 'Division by zero',\n\n  // The shared prototype object.\n  P = {},\n  UNDEFINED = void 0,\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\n\n\n/*\n * Create and return a Big constructor.\n */\nfunction _Big_() {\n\n  /*\n   * The Big constructor and exported function.\n   * Create and return a new instance of a Big number object.\n   *\n   * n {number|string|Big} A numeric value.\n   */\n  function Big(n) {\n    var x = this;\n\n    // Enable constructor usage without new.\n    if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\n\n    // Duplicate.\n    if (n instanceof Big) {\n      x.s = n.s;\n      x.e = n.e;\n      x.c = n.c.slice();\n    } else {\n      if (typeof n !== 'string') {\n        if (Big.strict === true && typeof n !== 'bigint') {\n          throw TypeError(INVALID + 'value');\n        }\n\n        // Minus zero?\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\n      }\n\n      parse(x, n);\n    }\n\n    // Retain a reference to this Big constructor.\n    // Shadow Big.prototype.constructor which points to Object.\n    x.constructor = Big;\n  }\n\n  Big.prototype = P;\n  Big.DP = DP;\n  Big.RM = RM;\n  Big.NE = NE;\n  Big.PE = PE;\n  Big.strict = STRICT;\n  Big.roundDown = 0;\n  Big.roundHalfUp = 1;\n  Big.roundHalfEven = 2;\n  Big.roundUp = 3;\n\n  return Big;\n}\n\n\n/*\n * Parse the number or string value passed to a Big constructor.\n *\n * x {Big} A Big number instance.\n * n {number|string} A numeric value.\n */\nfunction parse(x, n) {\n  var e, i, nl;\n\n  if (!NUMERIC.test(n)) {\n    throw Error(INVALID + 'number');\n  }\n\n  // Determine sign.\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\n\n  // Decimal point?\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\n\n  // Exponential form?\n  if ((i = n.search(/e/i)) > 0) {\n\n    // Determine exponent.\n    if (e < 0) e = i;\n    e += +n.slice(i + 1);\n    n = n.substring(0, i);\n  } else if (e < 0) {\n\n    // Integer.\n    e = n.length;\n  }\n\n  nl = n.length;\n\n  // Determine leading zeros.\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\n\n  if (i == nl) {\n\n    // Zero.\n    x.c = [x.e = 0];\n  } else {\n\n    // Determine trailing zeros.\n    for (; nl > 0 && n.charAt(--nl) == '0';);\n    x.e = e - i - 1;\n    x.c = [];\n\n    // Convert string to array of digits without leading/trailing zeros.\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\n  }\n\n  return x;\n}\n\n\n/*\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\n *\n * x {Big} The Big to round.\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n * [more] {boolean} Whether the result of division was truncated.\n */\nfunction round(x, sd, rm, more) {\n  var xc = x.c;\n\n  if (rm === UNDEFINED) rm = x.constructor.RM;\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\n    throw Error(INVALID_RM);\n  }\n\n  if (sd < 1) {\n    more =\n      rm === 3 && (more || !!xc[0]) || sd === 0 && (\n      rm === 1 && xc[0] >= 5 ||\n      rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))\n    );\n\n    xc.length = 1;\n\n    if (more) {\n\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\n      x.e = x.e - sd + 1;\n      xc[0] = 1;\n    } else {\n\n      // Zero.\n      xc[0] = x.e = 0;\n    }\n  } else if (sd < xc.length) {\n\n    // xc[sd] is the digit after the digit that may be rounded up.\n    more =\n      rm === 1 && xc[sd] >= 5 ||\n      rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&\n        (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||\n      rm === 3 && (more || !!xc[0]);\n\n    // Remove any digits after the required precision.\n    xc.length = sd;\n\n    // Round up?\n    if (more) {\n\n      // Rounding up may mean the previous digit has to be rounded up.\n      for (; ++xc[--sd] > 9;) {\n        xc[sd] = 0;\n        if (sd === 0) {\n          ++x.e;\n          xc.unshift(1);\n          break;\n        }\n      }\n    }\n\n    // Remove trailing zeros.\n    for (sd = xc.length; !xc[--sd];) xc.pop();\n  }\n\n  return x;\n}\n\n\n/*\n * Return a string representing the value of Big x in normal or exponential notation.\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\n */\nfunction stringify(x, doExponential, isNonzero) {\n  var e = x.e,\n    s = x.c.join(''),\n    n = s.length;\n\n  // Exponential notation?\n  if (doExponential) {\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\n\n  // Normal notation.\n  } else if (e < 0) {\n    for (; ++e;) s = '0' + s;\n    s = '0.' + s;\n  } else if (e > 0) {\n    if (++e > n) {\n      for (e -= n; e--;) s += '0';\n    } else if (e < n) {\n      s = s.slice(0, e) + '.' + s.slice(e);\n    }\n  } else if (n > 1) {\n    s = s.charAt(0) + '.' + s.slice(1);\n  }\n\n  return x.s < 0 && isNonzero ? '-' + s : s;\n}\n\n\n// Prototype/instance methods\n\n\n/*\n * Return a new Big whose value is the absolute value of this Big.\n */\nP.abs = function () {\n  var x = new this.constructor(this);\n  x.s = 1;\n  return x;\n};\n\n\n/*\n * Return 1 if the value of this Big is greater than the value of Big y,\n *       -1 if the value of this Big is less than the value of Big y, or\n *        0 if they have the same value.\n */\nP.cmp = function (y) {\n  var isneg,\n    x = this,\n    xc = x.c,\n    yc = (y = new x.constructor(y)).c,\n    i = x.s,\n    j = y.s,\n    k = x.e,\n    l = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\n\n  // Signs differ?\n  if (i != j) return i;\n\n  isneg = i < 0;\n\n  // Compare exponents.\n  if (k != l) return k > l ^ isneg ? 1 : -1;\n\n  j = (k = xc.length) < (l = yc.length) ? k : l;\n\n  // Compare digit by digit.\n  for (i = -1; ++i < j;) {\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\n  }\n\n  // Compare lengths.\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.div = function (y) {\n  var x = this,\n    Big = x.constructor,\n    a = x.c,                  // dividend\n    b = (y = new Big(y)).c,   // divisor\n    k = x.s == y.s ? 1 : -1,\n    dp = Big.DP;\n\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n\n  // Divisor is zero?\n  if (!b[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  // Dividend is 0? Return +-0.\n  if (!a[0]) {\n    y.s = k;\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  var bl, bt, n, cmp, ri,\n    bz = b.slice(),\n    ai = bl = b.length,\n    al = a.length,\n    r = a.slice(0, bl),   // remainder\n    rl = r.length,\n    q = y,                // quotient\n    qc = q.c = [],\n    qi = 0,\n    p = dp + (q.e = x.e - y.e) + 1;    // precision of the result\n\n  q.s = k;\n  k = p < 0 ? 0 : p;\n\n  // Create version of divisor with leading zero.\n  bz.unshift(0);\n\n  // Add zeros to make remainder as long as divisor.\n  for (; rl++ < bl;) r.push(0);\n\n  do {\n\n    // n is how many times the divisor goes into current remainder.\n    for (n = 0; n < 10; n++) {\n\n      // Compare divisor and remainder.\n      if (bl != (rl = r.length)) {\n        cmp = bl > rl ? 1 : -1;\n      } else {\n        for (ri = -1, cmp = 0; ++ri < bl;) {\n          if (b[ri] != r[ri]) {\n            cmp = b[ri] > r[ri] ? 1 : -1;\n            break;\n          }\n        }\n      }\n\n      // If divisor < remainder, subtract divisor from remainder.\n      if (cmp < 0) {\n\n        // Remainder can't be more than 1 digit longer than divisor.\n        // Equalise lengths using divisor with extra leading zero?\n        for (bt = rl == bl ? b : bz; rl;) {\n          if (r[--rl] < bt[rl]) {\n            ri = rl;\n            for (; ri && !r[--ri];) r[ri] = 9;\n            --r[ri];\n            r[rl] += 10;\n          }\n          r[rl] -= bt[rl];\n        }\n\n        for (; !r[0];) r.shift();\n      } else {\n        break;\n      }\n    }\n\n    // Add the digit n to the result array.\n    qc[qi++] = cmp ? n : ++n;\n\n    // Update the remainder.\n    if (r[0] && cmp) r[rl] = a[ai] || 0;\n    else r = [a[ai]];\n\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\n\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\n  if (!qc[0] && qi != 1) {\n\n    // There can't be more than one zero.\n    qc.shift();\n    q.e--;\n    p--;\n  }\n\n  // Round?\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\n\n  return q;\n};\n\n\n/*\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\n */\nP.eq = function (y) {\n  return this.cmp(y) === 0;\n};\n\n\n/*\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\n * false.\n */\nP.gt = function (y) {\n  return this.cmp(y) > 0;\n};\n\n\n/*\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\n * return false.\n */\nP.gte = function (y) {\n  return this.cmp(y) > -1;\n};\n\n\n/*\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\n */\nP.lt = function (y) {\n  return this.cmp(y) < 0;\n};\n\n\n/*\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\n * return false.\n */\nP.lte = function (y) {\n  return this.cmp(y) < 1;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big minus the value of Big y.\n */\nP.minus = P.sub = function (y) {\n  var i, j, t, xlty,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  // Signs differ?\n  if (a != b) {\n    y.s = -b;\n    return x.plus(y);\n  }\n\n  var xc = x.c.slice(),\n    xe = x.e,\n    yc = y.c,\n    ye = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (yc[0]) {\n      y.s = -b;\n    } else if (xc[0]) {\n      y = new Big(x);\n    } else {\n      y.s = 1;\n    }\n    return y;\n  }\n\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\n  if (a = xe - ye) {\n\n    if (xlty = a < 0) {\n      a = -a;\n      t = xc;\n    } else {\n      ye = xe;\n      t = yc;\n    }\n\n    t.reverse();\n    for (b = a; b--;) t.push(0);\n    t.reverse();\n  } else {\n\n    // Exponents equal. Check digit by digit.\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\n\n    for (a = b = 0; b < j; b++) {\n      if (xc[b] != yc[b]) {\n        xlty = xc[b] < yc[b];\n        break;\n      }\n    }\n  }\n\n  // x < y? Point xc to the array of the bigger number.\n  if (xlty) {\n    t = xc;\n    xc = yc;\n    yc = t;\n    y.s = -y.s;\n  }\n\n  /*\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\n   * needs to start at yc.length.\n   */\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\n\n  // Subtract yc from xc.\n  for (b = i; j > a;) {\n    if (xc[--j] < yc[j]) {\n      for (i = j; i && !xc[--i];) xc[i] = 9;\n      --xc[i];\n      xc[j] += 10;\n    }\n\n    xc[j] -= yc[j];\n  }\n\n  // Remove trailing zeros.\n  for (; xc[--b] === 0;) xc.pop();\n\n  // Remove leading zeros and adjust exponent accordingly.\n  for (; xc[0] === 0;) {\n    xc.shift();\n    --ye;\n  }\n\n  if (!xc[0]) {\n\n    // n - n = +0\n    y.s = 1;\n\n    // Result must be zero.\n    xc = [ye = 0];\n  }\n\n  y.c = xc;\n  y.e = ye;\n\n  return y;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\n */\nP.mod = function (y) {\n  var ygtx,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  if (!y.c[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  x.s = y.s = 1;\n  ygtx = y.cmp(x) == 1;\n  x.s = a;\n  y.s = b;\n\n  if (ygtx) return new Big(x);\n\n  a = Big.DP;\n  b = Big.RM;\n  Big.DP = Big.RM = 0;\n  x = x.div(y);\n  Big.DP = a;\n  Big.RM = b;\n\n  return this.minus(x.times(y));\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big negated.\n */\nP.neg = function () {\n  var x = new this.constructor(this);\n  x.s = -x.s;\n  return x;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big plus the value of Big y.\n */\nP.plus = P.add = function (y) {\n  var e, k, t,\n    x = this,\n    Big = x.constructor;\n\n  y = new Big(y);\n\n  // Signs differ?\n  if (x.s != y.s) {\n    y.s = -y.s;\n    return x.minus(y);\n  }\n\n  var xe = x.e,\n    xc = x.c,\n    ye = y.e,\n    yc = y.c;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (!yc[0]) {\n      if (xc[0]) {\n        y = new Big(x);\n      } else {\n        y.s = x.s;\n      }\n    }\n    return y;\n  }\n\n  xc = xc.slice();\n\n  // Prepend zeros to equalise exponents.\n  // Note: reverse faster than unshifts.\n  if (e = xe - ye) {\n    if (e > 0) {\n      ye = xe;\n      t = yc;\n    } else {\n      e = -e;\n      t = xc;\n    }\n\n    t.reverse();\n    for (; e--;) t.push(0);\n    t.reverse();\n  }\n\n  // Point xc to the longer array.\n  if (xc.length - yc.length < 0) {\n    t = yc;\n    yc = xc;\n    xc = t;\n  }\n\n  e = yc.length;\n\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\n\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\n\n  if (k) {\n    xc.unshift(k);\n    ++ye;\n  }\n\n  // Remove trailing zeros.\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\n\n  y.c = xc;\n  y.e = ye;\n\n  return y;\n};\n\n\n/*\n * Return a Big whose value is the value of this Big raised to the power n.\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\n * mode Big.RM.\n *\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\n */\nP.pow = function (n) {\n  var x = this,\n    one = new x.constructor('1'),\n    y = one,\n    isneg = n < 0;\n\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\n    throw Error(INVALID + 'exponent');\n  }\n\n  if (isneg) n = -n;\n\n  for (;;) {\n    if (n & 1) y = y.times(x);\n    n >>= 1;\n    if (!n) break;\n    x = x.times(x);\n  }\n\n  return isneg ? one.div(y) : y;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.prec = function (sd, rm) {\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n    throw Error(INVALID + 'precision');\n  }\n  return round(new this.constructor(this), sd, rm);\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\n * using rounding mode rm, or Big.RM if rm is not specified.\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\n * If dp is not specified, round to 0 decimal places.\n *\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.round = function (dp, rm) {\n  if (dp === UNDEFINED) dp = 0;\n  else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n  return round(new this.constructor(this), dp + this.e + 1, rm);\n};\n\n\n/*\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.sqrt = function () {\n  var r, c, t,\n    x = this,\n    Big = x.constructor,\n    s = x.s,\n    e = x.e,\n    half = new Big('0.5');\n\n  // Zero?\n  if (!x.c[0]) return new Big(x);\n\n  // Negative?\n  if (s < 0) {\n    throw Error(NAME + 'No square root');\n  }\n\n  // Estimate.\n  s = Math.sqrt(x + '');\n\n  // Math.sqrt underflow/overflow?\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\n  if (s === 0 || s === 1 / 0) {\n    c = x.c.join('');\n    if (!(c.length + e & 1)) c += '0';\n    s = Math.sqrt(c);\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\n  } else {\n    r = new Big(s + '');\n  }\n\n  e = r.e + (Big.DP += 4);\n\n  // Newton-Raphson iteration.\n  do {\n    t = r;\n    r = half.times(t.plus(x.div(t)));\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\n\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big times the value of Big y.\n */\nP.times = P.mul = function (y) {\n  var c,\n    x = this,\n    Big = x.constructor,\n    xc = x.c,\n    yc = (y = new Big(y)).c,\n    a = xc.length,\n    b = yc.length,\n    i = x.e,\n    j = y.e;\n\n  // Determine sign of result.\n  y.s = x.s == y.s ? 1 : -1;\n\n  // Return signed 0 if either 0.\n  if (!xc[0] || !yc[0]) {\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  // Initialise exponent of result as x.e + y.e.\n  y.e = i + j;\n\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\n  if (a < b) {\n    c = xc;\n    xc = yc;\n    yc = c;\n    j = a;\n    a = b;\n    b = j;\n  }\n\n  // Initialise coefficient array of result with zeros.\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\n\n  // Multiply.\n\n  // i is initially xc.length.\n  for (i = b; i--;) {\n    b = 0;\n\n    // a is yc.length.\n    for (j = a + i; j > i;) {\n\n      // Current sum of products at this digit position, plus carry.\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\n      c[j--] = b % 10;\n\n      // carry\n      b = b / 10 | 0;\n    }\n\n    c[j] = b;\n  }\n\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\n  if (b) ++y.e;\n  else c.shift();\n\n  // Remove trailing zeros.\n  for (i = c.length; !c[--i];) c.pop();\n  y.c = c;\n\n  return y;\n};\n\n\n/*\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toExponential = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), ++dp, rm);\n    for (; x.c.length < dp;) x.c.push(0);\n  }\n\n  return stringify(x, true, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n *\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\n */\nP.toFixed = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\n\n    // x.e may have changed if the value is rounded up.\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\n  }\n\n  return stringify(x, false, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Omit the sign for negative zero.\n */\nP[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON = P.toString = function () {\n  var x = this,\n    Big = x.constructor;\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\n};\n\n\n/*\n * Return the value of this Big as a primitve number.\n */\nP.toNumber = function () {\n  var n = Number(stringify(this, true, true));\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\n    throw Error(NAME + 'Imprecise conversion');\n  }\n  return n;\n};\n\n\n/*\n * Return a string representing the value of this Big rounded to sd significant digits using\n * rounding mode rm, or Big.RM if rm is not specified.\n * Use exponential notation if sd is less than the number of digits necessary to represent\n * the integer part of the value in normal notation.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toPrecision = function (sd, rm) {\n  var x = this,\n    Big = x.constructor,\n    n = x.c[0];\n\n  if (sd !== UNDEFINED) {\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n      throw Error(INVALID + 'precision');\n    }\n    x = round(new Big(x), sd, rm);\n    for (; x.c.length < sd;) x.c.push(0);\n  }\n\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Include the sign for negative zero.\n */\nP.valueOf = function () {\n  var x = this,\n    Big = x.constructor;\n  if (Big.strict === true) {\n    throw Error(NAME + 'valueOf disallowed');\n  }\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\n};\n\n\n// Export\n\n\nexport var Big = _Big_();\n\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\nexport default Big;\n","import { TONCOIN } from '../config';\nimport { Big } from '../lib/big.js';\n\nBig.RM = 0; // RoundDown\nBig.NE = -100000; // Disable exponential form\nBig.PE = 100000; // Disable exponential form\n\nconst ten = Big(10);\n\nexport function fromDecimal(value: string | number, decimals?: number) {\n  return BigInt(Big(value).mul(ten.pow(decimals ?? TONCOIN.decimals)).round().toString());\n}\n\nexport function toDecimal(value: bigint | number, decimals?: number, noFloor = false) {\n  return toBig(value, decimals ?? TONCOIN.decimals, noFloor).toString();\n}\n\nexport function toBig(value: bigint | number, decimals: number = TONCOIN.decimals, noFloor = false) {\n  return Big(value.toString()).div(ten.pow(decimals)).round(decimals, noFloor ? Big.roundHalfUp : undefined);\n}\n\nexport function roundDecimal(value: string, decimals: number) {\n  return Big(value).round(decimals).toString();\n}\n","export class AssertionError extends Error {\n  constructor(\n    message: string,\n    // Any additional information for the error to help debug it. Don't put sensitive information here.\n    public metadata?: unknown,\n  ) {\n    super(message);\n  }\n}\n\nexport function assert(condition: boolean, message: string, metadata?: unknown) {\n  if (!condition) {\n    throw new AssertionError(message, metadata);\n  }\n}\n","import { DEBUG, DEBUG_API } from '../config';\nimport { AssertionError } from './assert';\nimport { omit } from './iteratees';\n\nexport interface Log {\n  message: string;\n  args: any[];\n  time: Date;\n  level: 'debug' | 'debugError';\n}\n\nconst MAX_LOG_LENGTH = 999;\nconst logs: Log[] = [];\n\nexport function errorReplacer(_: string, value: any) {\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: value.message,\n      stack: value.stack,\n      metadata: value instanceof AssertionError ? value.metadata : undefined,\n    };\n  }\n  return value;\n}\n\nexport function addLog(log: Omit<Log, 'time'>) {\n  if (logs.length > MAX_LOG_LENGTH) {\n    logs.shift();\n  }\n\n  logs.push({\n    ...log,\n    args: log.args.map((arg) => JSON.stringify(arg, errorReplacer)),\n    time: new Date(),\n  });\n}\n\nexport function getLogs() {\n  return logs;\n}\n\nexport function logActionHandling(name: string, payload?: any) {\n  if (!DEBUG_API) return;\n  if (name === 'apiUpdate') {\n    if (typeof payload?.type === 'string' && payload.type !== 'updatingStatus') {\n      logDebugApi(`Update: ${payload.type}`, omit(payload, ['type']));\n    }\n  } else {\n    logDebugApi(`Action: ${name}`, payload);\n  }\n}\n\nexport function logDebugError(message: string, ...args: any[]) {\n  addLog({ message, level: 'debugError', args });\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.error(`[DEBUG][${message}]`, ...args);\n  }\n}\n\nexport function logDebug(message: any, ...args: any[]) {\n  addLog({ message, level: 'debug', args });\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.log(`[DEBUG] ${message}`, ...args);\n  }\n}\n\nexport function logDebugApi(message: any, obj1: any, obj2?: any) {\n  if (DEBUG_API) {\n    // eslint-disable-next-line no-console\n    console.debug(`[DEBUG] ${message}`);\n    // eslint-disable-next-line no-console\n    if (obj1) console.dir(obj1);\n    // eslint-disable-next-line no-console\n    if (obj2) console.dir(obj2);\n  }\n}\n\nexport function logSelfXssWarnings() {\n  const selfXssWarnings: AnyLiteral = {\n    en: 'WARNING! This console can be a way for bad people to take over your crypto wallet through something called '\n        + 'a Self-XSS attack. So, don\\'t put in or paste code you don\\'t understand. Stay safe!',\n    ru: '!             '\n        + '  Self-XSS.       ,    .  !',\n    es: 'ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su '\n        + 'billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, '\n        + 'no introduzca ni pegue cdigo que no comprenda. Cudese!',\n    zh: 'Self-XSS',\n  };\n\n  const langCode = navigator.language.split('-')[0];\n  const text = selfXssWarnings[langCode] || selfXssWarnings.en;\n\n  // eslint-disable-next-line no-console\n  console.log('%c%s', 'color: red; background: yellow; font-size: 18px;', text);\n}\n","import type {\n  ApiUpdate,\n  CancellableCallback, OriginMessageData, OriginMessageEvent, WorkerMessageData,\n} from './PostMessageConnector';\n\nimport { DETACHED_TAB_URL } from './ledger/tab';\nimport { bigintReviver } from './bigint';\nimport { logDebugError } from './logs';\n\ndeclare const self: WorkerGlobalScope;\n\nconst callbackState = new Map<string, CancellableCallback>();\n\ntype ApiConfig =\n  ((name: string, ...args: any[]) => any | [any, ArrayBuffer[]])\n  | Record<string, Function>;\ntype SendToOrigin = (data: WorkerMessageData, transferables?: Transferable[]) => void;\n\nexport function createPostMessageInterface(\n  api: ApiConfig,\n  channel?: string,\n  target: DedicatedWorkerGlobalScope | Worker = self as DedicatedWorkerGlobalScope,\n  shouldIgnoreErrors?: boolean,\n) {\n  function sendToOrigin(data: WorkerMessageData, transferables?: Transferable[]) {\n    data.channel = channel;\n\n    if (transferables) {\n      target.postMessage(data, transferables);\n    } else {\n      target.postMessage(data);\n    }\n  }\n\n  if (!shouldIgnoreErrors) {\n    handleErrors(sendToOrigin);\n  }\n\n  (target as DedicatedWorkerGlobalScope).addEventListener('message', (message: OriginMessageEvent) => {\n    if (message.data?.channel === channel) {\n      void onMessage(api, message.data, sendToOrigin);\n    }\n  });\n}\n\nexport function createExtensionInterface(\n  portName: string,\n  api: ApiConfig,\n  channel?: string,\n  cleanUpdater?: (onUpdate: (update: ApiUpdate) => void) => void,\n  withAutoInit = false,\n) {\n  chrome.runtime.onConnect.addListener((port) => {\n    if (port.name !== portName) {\n      return;\n    }\n\n    /**\n     * If the sender's URL includes the DETACHED_TAB_URL, we skip further processing\n     * This condition ensures that we don't interact with tabs that have already been closed.\n     */\n    const url = port.sender?.url;\n    if (url?.includes(DETACHED_TAB_URL)) {\n      return;\n    }\n\n    const origin = url ? new URL(url).origin : undefined;\n\n    const dAppUpdater = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n\n    function sendToOrigin(data: WorkerMessageData) {\n      data.channel = channel;\n      const json = JSON.stringify(data);\n      port.postMessage(json);\n    }\n\n    handleErrors(sendToOrigin);\n\n    port.onMessage.addListener((data: OriginMessageData | string) => {\n      if (typeof data === 'string') {\n        data = JSON.parse(data, bigintReviver) as OriginMessageData;\n      }\n      if (data.channel === channel) {\n        void onMessage(api, data, sendToOrigin, dAppUpdater, origin);\n      }\n    });\n\n    port.onDisconnect.addListener(() => {\n      cleanUpdater?.(dAppUpdater);\n    });\n\n    if (withAutoInit) {\n      void onMessage(api, { type: 'init', name: 'init', args: [] }, sendToOrigin, dAppUpdater);\n    }\n  });\n}\n\nasync function onMessage(\n  api: ApiConfig,\n  data: OriginMessageData,\n  sendToOrigin: SendToOrigin,\n  onUpdate?: (update: ApiUpdate) => void,\n  origin?: string,\n) {\n  if (!onUpdate) {\n    onUpdate = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n  }\n\n  switch (data.type) {\n    case 'init': {\n      const { args } = data;\n      const promise = typeof api === 'function'\n        ? api('init', origin, onUpdate, ...args)\n        : api.init?.(onUpdate, ...args);\n      await promise;\n\n      break;\n    }\n    case 'callMethod': {\n      const {\n        messageId, name, args, withCallback,\n      } = data;\n      try {\n        // This method is probably from another worker\n        if (typeof api !== 'function' && !api[name]) return;\n\n        if (messageId && withCallback) {\n          const callback = (...callbackArgs: any[]) => {\n            const lastArg = callbackArgs[callbackArgs.length - 1];\n\n            sendToOrigin({\n              type: 'methodCallback',\n              messageId,\n              callbackArgs,\n            }, isTransferable(lastArg) ? [lastArg] : undefined);\n          };\n\n          callbackState.set(messageId, callback);\n\n          args.push(callback as never);\n        }\n\n        const response = typeof api === 'function'\n          ? await api(name, origin, ...args)\n          : await api[name](...args);\n        const { arrayBuffer } = (typeof response === 'object' && response && 'arrayBuffer' in response) || {};\n\n        if (messageId) {\n          sendToOrigin(\n            {\n              type: 'methodResponse',\n              messageId,\n              response,\n            },\n            arrayBuffer ? [arrayBuffer] : undefined,\n          );\n        }\n      } catch (err: any) {\n        logDebugError(name, err);\n\n        if (messageId) {\n          sendToOrigin({\n            type: 'methodResponse',\n            messageId,\n            error: { message: err.message },\n          });\n        }\n      }\n\n      if (messageId) {\n        callbackState.delete(messageId);\n      }\n\n      break;\n    }\n    case 'cancelProgress': {\n      const callback = callbackState.get(data.messageId);\n      if (callback) {\n        callback.isCanceled = true;\n      }\n\n      break;\n    }\n  }\n}\n\nfunction isTransferable(obj: any) {\n  return obj instanceof ArrayBuffer || obj instanceof ImageBitmap;\n}\n\nfunction handleErrors(sendToOrigin: SendToOrigin) {\n  self.onerror = (e) => {\n    const message = e.error?.message || 'Uncaught exception in worker';\n    logDebugError(message, e.error);\n\n    sendToOrigin({\n      type: 'unhandledError',\n      error: {\n        message,\n        stack: e.error?.stack,\n      },\n    });\n  };\n\n  self.addEventListener('unhandledrejection', (e) => {\n    const message = e.reason?.message || 'Unhandled rejection in worker';\n    logDebugError(message, e.reason);\n\n    sendToOrigin({\n      type: 'unhandledError',\n      error: {\n        message,\n        stack: e.reason?.stack,\n      },\n    });\n  });\n}\n","import type { CancellableCallback } from '../../util/PostMessageConnector';\n\nimport { ungzip } from '../../util/compression';\nimport { createPostMessageInterface } from '../../util/createPostMessageInterface';\n\ndeclare const Module: any;\n\ndeclare function allocate(...args: any[]): string;\n\ndeclare function intArrayFromString(str: String): string;\n\ndeclare const self: WorkerGlobalScope;\n\ntry {\n  self.importScripts('rlottie-wasm.js');\n} catch (err) {\n  throw new Error('Failed to import rlottie-wasm.js');\n}\n\nlet rLottieApi: Record<string, Function>;\nconst rLottieApiPromise = new Promise<void>((resolve) => {\n  Module.onRuntimeInitialized = () => {\n    rLottieApi = {\n      init: Module.cwrap('lottie_init', '', []),\n      destroy: Module.cwrap('lottie_destroy', '', ['number']),\n      resize: Module.cwrap('lottie_resize', '', ['number', 'number', 'number']),\n      buffer: Module.cwrap('lottie_buffer', 'number', ['number']),\n      render: Module.cwrap('lottie_render', '', ['number', 'number']),\n      loadFromData: Module.cwrap('lottie_load_from_data', 'number', ['number', 'number']),\n    };\n\n    resolve();\n  };\n});\n\nconst HIGH_PRIORITY_MAX_FPS = 60;\nconst LOW_PRIORITY_MAX_FPS = 30;\nconst DESTROY_REPEAT_DELAY = 1000;\n\nconst renderers = new Map<string, {\n  imgSize: number;\n  reduceFactor: number;\n  handle: any;\n  imageData: ImageData;\n  customColor?: [number, number, number];\n}>();\n\nasync function init(\n  key: string,\n  tgsUrl: string,\n  imgSize: number,\n  isLowPriority: boolean,\n  customColor: [number, number, number] | undefined,\n  onInit: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const json = await extractJson(tgsUrl);\n  const stringOnWasmHeap = allocate(intArrayFromString(json), 'i8', 0);\n  const handle = rLottieApi.init();\n  const framesCount = rLottieApi.loadFromData(handle, stringOnWasmHeap);\n  rLottieApi.resize(handle, imgSize, imgSize);\n\n  const imageData = new ImageData(imgSize, imgSize);\n\n  const { reduceFactor, msPerFrame, reducedFramesCount } = calcParams(json, isLowPriority, framesCount);\n\n  renderers.set(key, {\n    imgSize, reduceFactor, handle, imageData, customColor,\n  });\n\n  onInit(reduceFactor, msPerFrame, reducedFramesCount);\n}\n\nasync function changeData(\n  key: string,\n  tgsUrl: string,\n  isLowPriority: boolean,\n  onInit: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const json = await extractJson(tgsUrl);\n  const stringOnWasmHeap = allocate(intArrayFromString(json), 'i8', 0);\n  const { handle } = renderers.get(key)!;\n  const framesCount = rLottieApi.loadFromData(handle, stringOnWasmHeap);\n\n  const { reduceFactor, msPerFrame, reducedFramesCount } = calcParams(json, isLowPriority, framesCount);\n\n  onInit(reduceFactor, msPerFrame, reducedFramesCount);\n}\n\nasync function extractJson(tgsUrl: string) {\n  const response = await fetch(tgsUrl);\n  const contentType = response.headers.get('Content-Type');\n\n  if (contentType === 'application/json') {\n    return response.text();\n  }\n\n  const arrayBuffer = await response.arrayBuffer();\n  const inflated = await ungzip(arrayBuffer);\n  return new TextDecoder().decode(inflated);\n}\n\nfunction calcParams(json: string, isLowPriority: boolean, framesCount: number) {\n  const animationData = JSON.parse(json);\n  const maxFps = isLowPriority ? LOW_PRIORITY_MAX_FPS : HIGH_PRIORITY_MAX_FPS;\n  const sourceFps = animationData.fr || maxFps;\n  const reduceFactor = sourceFps % maxFps === 0 ? sourceFps / maxFps : 1;\n\n  return {\n    reduceFactor,\n    msPerFrame: 1000 / (sourceFps / reduceFactor),\n    reducedFramesCount: Math.ceil(framesCount / reduceFactor),\n  };\n}\n\nasync function renderFrames(\n  key: string, frameIndex: number, onProgress: CancellableCallback,\n) {\n  if (!rLottieApi) {\n    await rLottieApiPromise;\n  }\n\n  const {\n    imgSize, reduceFactor, handle, imageData, customColor,\n  } = renderers.get(key)!;\n\n  const realIndex = frameIndex * reduceFactor;\n\n  rLottieApi.render(handle, realIndex);\n  const bufferPointer = rLottieApi.buffer(handle);\n  const data = Module.HEAPU8.subarray(bufferPointer, bufferPointer + (imgSize * imgSize * 4));\n\n  if (customColor) {\n    const arr = new Uint8ClampedArray(data);\n    applyColor(arr, customColor);\n    imageData.data.set(arr);\n  } else {\n    imageData.data.set(data);\n  }\n\n  const imageBitmap = await createImageBitmap(imageData);\n\n  onProgress(frameIndex, imageBitmap);\n}\n\nfunction applyColor(arr: Uint8ClampedArray, color: [number, number, number]) {\n  for (let i = 0; i < arr.length; i += 4) {\n    arr[i] = color[0];\n    arr[i + 1] = color[1];\n    arr[i + 2] = color[2];\n  }\n}\n\nfunction destroy(key: string, isRepeated = false) {\n  try {\n    const renderer = renderers.get(key)!;\n    rLottieApi.destroy(renderer.handle);\n    renderers.delete(key);\n  } catch (err) {\n    // `destroy` sometimes can be called before the initialization is finished\n    if (!isRepeated) {\n      setTimeout(() => destroy(key, true), DESTROY_REPEAT_DELAY);\n    }\n  }\n}\n\nconst api = {\n  'rlottie:init': init,\n  'rlottie:changeData': changeData,\n  'rlottie:renderFrames': renderFrames,\n  'rlottie:destroy': destroy,\n};\n\ncreatePostMessageInterface(api);\n\nexport type RLottieApi = typeof api;\n","export const COLOR_COUNT = 2;\nexport const QUALITY = 1;\n\nexport const ACCENT_COLORS = {\n  light: [\n    '#31AFC7', '#35C759', '#FF9500', '#FF2C55',\n    '#AF52DE', '#5856D7', '#73AAED', '#FFB07A',\n    '#B76C78', '#9689D1', '#E572CC', '#6BA07A',\n    '#338FCC', '#1FC863', '#929395', '#E4B102',\n    '#000000',\n  ],\n  dark: [\n    '#3AB5CC', '#32D74B', '#FF9F0B', '#FF325A',\n    '#BF5AF2', '#7977FF', '#73AAED', '#FFB07A',\n    '#B76C78', '#9689D1', '#E572CC', '#6BA07A',\n    '#338FCC', '#2CD36F', '#C3C5C6', '#DDBA00',\n    '#FFFFFF',\n  ],\n} as const;\nexport const ACCENT_RADIOACTIVE_INDEX = 13;\nexport const ACCENT_SILVER_INDEX = 14;\nexport const ACCENT_GOLD_INDEX = 15;\nexport const ACCENT_BNW_INDEX = 16;\n","import { ACCENT_COLORS } from '../../util/accentColor/constants';\nimport { euclideanDistance, hex2rgb } from '../../util/colors';\nimport { createPostMessageInterface } from '../../util/createPostMessageInterface';\nimport { getCachedImageUrl } from '../../util/getCachedImageUrl';\nimport { logDebugError } from '../../util/logs';\nimport quantize from '../quantize';\n\nfunction extractImageData(img: ImageBitmap) {\n  const canvas = new OffscreenCanvas(img.width, img.height);\n  const ctx = canvas.getContext('2d')!;\n  ctx.drawImage(img, 0, 0);\n  return ctx.getImageData(0, 0, canvas.width, canvas.height).data;\n}\n\nfunction createPixelArray(imgData: Uint8ClampedArray, pixelCount: number, quality: number) {\n  const pixels = imgData;\n  const pixelArray = [];\n\n  for (let i = 0, offset, r, g, b, a; i < pixelCount; i += quality) {\n    offset = i * 4;\n    r = pixels[offset + 0];\n    g = pixels[offset + 1];\n    b = pixels[offset + 2];\n    a = pixels[offset + 3];\n\n    // If pixel is mostly opaque and not white\n    if (typeof a === 'undefined' || a >= 125) {\n      if (!(r > 250 && g > 250 && b > 250)) {\n        pixelArray.push([r, g, b]);\n      }\n    }\n  }\n\n  return pixelArray;\n}\n\nfunction extractPaletteFromImage(img: ImageBitmap, quality: number, colorCount: number) {\n  const imageData = extractImageData(img);\n  const pixelArray = createPixelArray(imageData, img.width * img.height, quality);\n  const cmap = quantize(pixelArray, colorCount);\n  return cmap ? cmap.palette() as [number, number, number][] : undefined;\n}\n\nasync function processNftImage(url: string, quality: number, colorCount: number) {\n  let bitmap: ImageBitmap | undefined;\n\n  try {\n    const cachedBlobUrl = await getCachedImageUrl(url);\n    const response = await fetch(cachedBlobUrl);\n    const blob = await response.blob();\n    bitmap = await createImageBitmap(blob);\n\n    const palette = extractPaletteFromImage(bitmap, quality, colorCount);\n    if (!palette || palette.length === 0) {\n      return undefined;\n    }\n\n    const dominantRgb = palette[0];\n    const distances = ACCENT_COLORS.light.map((accentColor) => euclideanDistance(dominantRgb, hex2rgb(accentColor)));\n    const minDistance = Math.min(...distances);\n    return distances.indexOf(minDistance);\n  } catch (error) {\n    logDebugError('[Worker] Error processing NFT image:', error);\n    return undefined;\n  } finally {\n    if (bitmap) {\n      bitmap.close();\n    }\n  }\n}\n\nconst api = {\n  'offscreen-canvas:processNftImage': processNftImage,\n};\n\ncreatePostMessageInterface(api);\n\nexport type OffscreenCanvasApi = typeof api;\n","import { IMAGE_CACHE_NAME } from '../config';\n\nexport async function getCachedImageUrl(url: string) {\n  const cache = await caches.open(IMAGE_CACHE_NAME);\n\n  const cachedResponse = await cache.match(url);\n  if (cachedResponse) {\n    const blob = await cachedResponse.blob();\n\n    return URL.createObjectURL(blob);\n  }\n\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(`Image loading error: ${response.statusText}. URL: ${url}`);\n  }\n\n  await cache.put(url, response.clone());\n  const blob = await response.blob();\n\n  return URL.createObjectURL(blob);\n}\n","export type RGBColor = [number, number, number];\n\nexport function hex2rgb(param: string): RGBColor {\n  const hex = param.replace('#', '');\n  return [\n    parseInt(hex.substring(0, 2), 16),\n    parseInt(hex.substring(2, 4), 16),\n    parseInt(hex.substring(4, 6), 16),\n  ];\n}\n\nexport default function rgbToHex(rgb: [number, number, number]) {\n  return `#${rgb.map((x) => {\n    const hex = x.toString(16);\n    return hex.length === 1 ? `0${hex}` : hex;\n  }).join('')}`;\n}\n\nexport function euclideanDistance(color1: RGBColor, color2: RGBColor): number {\n  const r = 0.3 * ((color1[0] - color2[0]) ** 2);\n  const g = 0.59 * ((color1[1] - color2[1]) ** 2);\n  const b = 0.11 * ((color1[2] - color2[2]) ** 2);\n\n  return Math.sqrt(r + g + b);\n}\n\nfunction rgbToLab(rgb: RGBColor): RGBColor {\n  let [r, g, b] = rgb.map((value) => value / 255);\n  [r, g, b] = [r, g, b].map((value) => (value > 0.04045 ? ((value + 0.055) / 1.055) ** 2.4 : value / 12.92));\n\n  let x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  let y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  let z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n\n  [x, y, z] = [x / 0.95047, y, z / 1.08883].map(\n    (value) => (value > 0.008856 ? value ** (1 / 3) : (7.787 * value) + 16 / 116),\n  );\n\n  return [(116 * y) - 16, 500 * (x - y), 200 * (y - z)];\n}\n\n/**\n * Calculates the perceptual difference between two RGB colors.\n *\n * Delta E is a metric for understanding how the human eye perceives color difference.\n * The following table provides a general guideline:\n *\n * Delta E  |  Perception\n * ---------|-------------------------------------------\n * <= 1.0   | Not perceptible by human eyes.\n * 1 - 2    | Perceptible through close observation.\n * 2 - 10   | Perceptible at a glance.\n * 11 - 49  | Colors are more similar than opposite.\n * 100      | Colors are exact opposite.\n *\n * @param rgbA The first color as an RGB array.\n * @param rgbB The second color as an RGB array.\n * @returns The Delta E value representing the color difference.\n */\nexport function deltaE(rgbA: RGBColor, rgbB: RGBColor): number {\n  const [l1, a1, b1] = rgbToLab(rgbA);\n  const [l2, a2, b2] = rgbToLab(rgbB);\n\n  const c1 = Math.sqrt(a1 * a1 + b1 * b1);\n  const c2 = Math.sqrt(a2 * a2 + b2 * b2);\n  const deltaC = c1 - c2;\n\n  const deltaL = l1 - l2;\n  const deltaA = a1 - a2;\n  const deltaB = b1 - b2;\n\n  const deltaH = Math.sqrt(deltaA * deltaA + deltaB * deltaB - deltaC * deltaC);\n\n  const sl = 1.0;\n  const sc = 1.0 + 0.045 * c1;\n  const sh = 1.0 + 0.015 * c1;\n\n  const deltaLKlsl = deltaL / sl;\n  const deltaCkcsc = deltaC / sc;\n  const deltaHkhsh = deltaH / sh;\n\n  return Math.sqrt(deltaLKlsl * deltaLKlsl + deltaCkcsc * deltaCkcsc + deltaHkhsh * deltaHkhsh);\n}\n"],"names":["pv","map","array","f","o","d","i","index","call","slice","naturalOrder","a","b","sum","reduce","p","max","Math","apply","MMCQ","getColorIndex","r","g","PQueue","comparator","contents","sorted","sort","push","peek","undefined","length","pop","size","debug","VBox","r1","r2","g1","g2","b1","b2","histo","vbox","this","CMap","vboxes","count","volume","medianCutApply","rw","gw","bw","maxw","copy","j","k","total","partialsum","lookaheadsum","forEach","color","left","right","vbox1","vbox2","d2","dim1","dim2","count2","min","doCut","prototype","force","_volume","_count_set","npix","_count","avg","_avg","hval","ntot","rsum","gsum","bsum","contains","pixel","rval","gval","bval","palette","vb","nearest","d1","pColor","sqrt","pow","forcebw","lowest","idx","highest","quantize","pixels","maxcolors","Array","getHisto","rmin","rmax","gmin","gmax","bmin","bmax","vboxFromPixels","pq","iter","lh","target","ncolors","niters","pq2","cmap","module","exports","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","noop","nextTick","args","arguments","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","n","getter","__esModule","definition","key","Object","defineProperty","enumerable","get","chunkId","Promise","all","keys","promises","u","miniCssF","globalThis","Function","window","obj","prop","hasOwnProperty","scriptUrl","importScripts","location","document","currentScript","tagName","toUpperCase","src","scripts","getElementsByTagName","test","replace","installedChunks","chunkLoadingGlobal","self","parentChunkLoadingFunction","bind","data","chunkIds","moreModules","runtime","async","ungzip","input","decompressionStream","DecompressionStream","tryCreateDecompressionStream","stream","writer","writable","getWriter","write","close","reader","getReader","output","totalSize","value","done","read","byteLength","concatenated","Uint8Array","offset","set","readBytesFromStream","readable","transformBytesByStream","gunzipSync","source","ArrayBuffer","buffer","byteOffset","IS_OPERA_EXTENSION","Set","TON_USDT_SLUG","MAX_DP","NAME","INVALID","INVALID_DP","INVALID_RM","DIV_BY_ZERO","P","UNDEFINED","NUMERIC","round","x","sd","rm","more","xc","c","constructor","RM","unshift","stringify","doExponential","isNonzero","s","join","charAt","abs","cmp","y","isneg","yc","l","div","Big","dp","DP","bl","bt","ri","bz","ai","al","rl","q","qc","qi","shift","eq","gt","gte","lt","lte","minus","sub","t","xlty","plus","xe","ye","reverse","mod","ygtx","times","neg","add","one","prec","half","toExponential","indexOf","mul","toFixed","Symbol","for","toJSON","toString","NE","PE","toNumber","Number","strict","toPrecision","valueOf","_Big_","TypeError","String","nl","search","substring","parse","roundDown","roundHalfUp","roundHalfEven","roundUp","AssertionError","message","metadata","super","logs","errorReplacer","_","stack","logDebugError","_len","_key","log","level","arg","JSON","time","Date","callbackState","Map","createPostMessageInterface","api","channel","sendToOrigin","transferables","postMessage","onerror","_e$error","_e$error2","error","type","addEventListener","_e$reason","_e$reason2","reason","handleErrors","_message$data","onUpdate","origin","update","_api$init","promise","init","messageId","withCallback","callback","callbackArgs","lastArg","ImageBitmap","response","arrayBuffer","err","delete","isCanceled","onMessage","rLottieApi","rLottieApiPromise","resolve","Module","onRuntimeInitialized","cwrap","destroy","resize","render","loadFromData","renderers","extractJson","tgsUrl","fetch","headers","text","inflated","TextDecoder","decode","calcParams","json","isLowPriority","framesCount","maxFps","sourceFps","fr","reduceFactor","msPerFrame","reducedFramesCount","ceil","imgSize","customColor","onInit","stringOnWasmHeap","allocate","intArrayFromString","handle","imageData","ImageData","frameIndex","onProgress","realIndex","bufferPointer","HEAPU8","subarray","arr","Uint8ClampedArray","applyColor","createImageBitmap","isRepeated","renderer","ACCENT_COLORS","light","dark","url","quality","colorCount","bitmap","cachedBlobUrl","cache","caches","open","cachedResponse","match","blob","URL","createObjectURL","ok","statusText","put","clone","getCachedImageUrl","img","pixelArray","imgData","pixelCount","createPixelArray","canvas","OffscreenCanvas","width","height","ctx","getContext","drawImage","getImageData","extractImageData","extractPaletteFromImage","dominantRgb","distances","accentColor","color1","color2","euclideanDistance","param","hex","parseInt","hex2rgb","minDistance"],"sourceRoot":""}